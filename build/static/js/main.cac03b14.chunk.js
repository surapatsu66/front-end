(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,function(e,t,a){},,function(e,t,a){e.exports=a(13)},,,,,function(e,t,a){},,function(e,t,a){e.exports="production"},function(e,t){e.exports={development:{bearer_token:"1234567890",API_URL:"https://api.se-rmutl.net/"},production:{bearer_token:"1234567890",API_URL:"https://api.se-rmutl.net/"}}},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(3),c=a.n(l);a(9),a(10),a(2);const o=()=>n.a.createElement("div",{style:{width:"100%",padding:"2%",backgroundColor:"red",color:"white",textAlign:"center"}},n.a.createElement("h1",null,"React With NodeJS")),s=e=>{let{numberOfMovies:t,getAllMovies:a}=e;return n.a.createElement("div",{style:{backgroundColor:"green"},className:"display-board"},n.a.createElement("h4",{style:{color:"white"}},"Movies Created"),n.a.createElement("div",{className:"number"},t),n.a.createElement("div",{className:"btn"},n.a.createElement("button",{type:"button",onClick:e=>a(),className:"btn btn-warning"},"Get all Movies")))},m=e=>{let{movies:t}=e;const[a,l]=Object(r.useState)(""),[c,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(!1);if(0===t.length)return null;const i=(e,t)=>n.a.createElement("tr",{key:t,className:t%2===0?"odd":"even"},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.title),n.a.createElement("td",null,e.genre),n.a.createElement("td",null,e.director),n.a.createElement("td",null,e.release_year)),d=s?c.map((e,t)=>i(e,t)):t.map((e,t)=>i(e,t));return n.a.createElement("div",{className:"container"},n.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},n.a.createElement("div",null,n.a.createElement("h2",null,"Movies"),n.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n.a.createElement("input",{type:"text",className:"Search_input",style:{padding:"10px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px",width:"300px",marginRight:"10px"},placeholder:"Enter The Title Of Movie",value:a,onChange:e=>l(e.target.value)}),n.a.createElement("button",{className:"btn btn-dark",style:{padding:"10px",borderRadius:"5px"},onClick:async()=>{try{const e=await fetch("https://api.se-rmutl.net//api/movie/search?search_text=".concat(a)),t=await e.json();1===t.returnCode?(o(t.data),m(!0)):(o([]),m(!1))}catch(e){console.error("Error searching for movies:",e)}}},"Search")))),n.a.createElement("hr",null),n.a.createElement("table",{className:"table table-striped table-dark"},n.a.createElement("thead",{className:"table-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"Movie Id"),n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Genre"),n.a.createElement("th",null,"Director"),n.a.createElement("th",null,"Release"))),n.a.createElement("tbody",null,d,s&&0===c.length&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5"},"No movies found")))))};var i=e=>{let{onChangeForm:t,createMovie:a}=e;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-7 mrgnbtm"},n.a.createElement("h2",null,"Create Movies"),n.a.createElement("form",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Title"),n.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"title",id:"title","aria-describedby":"emailHelp",placeholder:"Title"})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Genre"),n.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"genre",id:"genre",placeholder:"Genre"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-12"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Director"),n.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"director",id:"director","aria-describedby":"emailHelp",placeholder:"Director"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-12"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Release"),n.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"release_year",id:"release_year","aria-describedby":"emailHelp",placeholder:"Release"}))),n.a.createElement("button",{type:"button",onClick:e=>a(),className:"btn btn-primary"},"Create")))))};const d=a(11),u=a(12)[d];async function p(){try{const e=await fetch("".concat(u.API_URL,"/api/movie/all"),{headers:{Authorization:"Bearer ".concat(u.bearerToken)}});return await e.json()}catch(e){return[]}}var h=function(){const[e,t]=Object(r.useState)({}),[a,l]=Object(r.useState)([]),[c,d]=Object(r.useState)(0);return Object(r.useEffect)(()=>{p().then(e=>{console.log(e),l(e),d(e.length)})},[]),n.a.createElement("div",{className:"App"},n.a.createElement(o,null),n.a.createElement("div",{className:"container mrgnbtm"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement(i,{movie:e,onChangeForm:a=>{"title"===a.target.name?e.title=a.target.value:"genre"===a.target.name?e.genre=a.target.value:"director"===a.target.name?e.director=a.target.value:"release_year"===a.target.name&&(e.release_year=a.target.value),t(e)},createMovie:t=>{(async function(e){const t=await fetch("".concat(u.API_URL,"/api/movie/insert"),{method:"POST",headers:{headers:{"Content-Type":"application/json"},Authorization:"Bearer ".concat(u.bearerToken)},body:JSON.stringify({...e})});return await t.json()})(e).then(e=>{console.log(e),d(c+1)})}})),n.a.createElement("div",{className:"col-md-4"},n.a.createElement(s,{numberOfMovies:c,getAllMovies:()=>{p().then(e=>{console.log(e),l(e),d(e.length)})}})))," ",n.a.createElement("div",{className:"row mrgnbtm"},n.a.createElement(m,{movies:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const E=()=>n.a.createElement("h1",null,"Something went wrong");class v extends n.a.Component{constructor(){super(...arguments),this.state={hasError:!1},this.componentDidCatch=(e,t)=>{this.setState({error:e,info:t})}}render(){const{hasError:e}=this.state,{children:t}=this.props;return e?n.a.createElement(E,null):t}}v.getDerivedStateFromError=e=>({hasError:!0}),c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null,n.a.createElement(h,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}],[[4,1,2]]]);
//# sourceMappingURL=main.cac03b14.chunk.js.map